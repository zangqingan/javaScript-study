{"diagram":{"image":{"x":0,"width":200,"y":0,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","height":200},"elements":{"leftChildren":[],"note":"","margin":{"childMarginW":10,"childMarginH":5,"marginW":20,"marginH":10},"watermark":"","children":[{"parent":"root","lineStyle":{"randomLineColor":"rgb(255,204,204)","lineColor":"#7B1FA2"},"children":[{"parent":"812b3a9306dd","children":[],"id":"0f0ffd6ba51b","title":"React&nbsp;有十分强大的组合模式。我们推荐使用组合而非继承来实现组件间的代码重用"}],"style":{"background-color":"#7B1FA2","border-radius":"5px","color":"#FFE0B2","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"812b3a9306dd","title":"简介"},{"parent":"root","lineStyle":{"lineColor":"#1976D2"},"children":[{"parent":"3b7f7da9d693","note":"function FancyBorder(props) {\n  return (\n    &lt;div className={&#39;FancyBorder FancyBorder-&#39; + props.color}&gt;\n      {props.children}\n    &lt;/div&gt;\n  );\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"3da828dbd224","title":"有些组件无法提前知晓它们子组件的具体内容。在&nbsp;Sidebar（侧边栏）和&nbsp;Dialog（对话框）等展现通用容器（box）的组件中特别容易遇到这种情况。<br>我们建议这些组件使用一个特殊的&nbsp;children&nbsp;prop&nbsp;来将他们的子组件传递到渲染结果中","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"3b7f7da9d693","note":"function WelcomeDialog() {\n  return (\n    &lt;FancyBorder color=&quot;blue&quot;&gt;\n      &lt;h1 className=&quot;Dialog-title&quot;&gt;\n        Welcome\n      &lt;/h1&gt;\n      &lt;p className=&quot;Dialog-message&quot;&gt;\n        Thank you for visiting our spacecraft!\n      &lt;/p&gt;\n    &lt;/FancyBorder&gt;\n  );\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"4d0baeac4530","title":"这使得别的组件可以通过&nbsp;JSX&nbsp;嵌套，将任意组件作为子组件传递给它们","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"3b7f7da9d693","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"6c79dfddc125","title":"&lt;FancyBorder&gt;&nbsp;JSX&nbsp;标签中的所有内容都会作为一个&nbsp;children&nbsp;prop&nbsp;传递给&nbsp;FancyBorder&nbsp;组件。因为&nbsp;FancyBorder&nbsp;将&nbsp;{props.children}&nbsp;渲染在一个&nbsp;&lt;div&gt;&nbsp;中，被传递的这些子组件最终都会出现在输出结果中","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"2","text":"&#xe62a"}]},{"parent":"3b7f7da9d693","note":"function SplitPane(props) {\n  return (\n    &lt;div className=&quot;SplitPane&quot;&gt;\n      &lt;div className=&quot;SplitPane-left&quot;&gt;\n        {props.left}\n      &lt;/div&gt;\n      &lt;div className=&quot;SplitPane-right&quot;&gt;\n        {props.right}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction App() {\n  return (\n    &lt;SplitPane\n      left={\n        &lt;Contacts /&gt;\n      }\n      right={\n        &lt;Chat /&gt;\n      } /&gt;\n  );\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"7d31ff9ecdae","title":"少数情况下，可能需要在一个组件中预留出几个“洞”。这种情况下，可以不使用&nbsp;children，而是自行约定：将所需内容传入&nbsp;props，并使用相应的&nbsp;prop<br>","icons":[{"color":"rgb(48, 191, 191)","name":"priority","index":"3","text":"&#xe635"}]}],"boundaries":[],"style":{"background-color":"#1976D2","border-radius":"5px","color":"#FFE0B2","font-weight":"bold","font-size":13},"id":"3b7f7da9d693","title":"包含关系"},{"parent":"root","lineStyle":{"randomLineColor":"rgb(153,204,255)","lineColor":"#388E3C"},"children":[{"parent":"0291282e6d37","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"8759611ecbbe","title":"有些时候，我们会把一些组件看作是其他组件的特殊实例，比如&nbsp;WelcomeDialog&nbsp;可以说是&nbsp;Dialog&nbsp;的特殊实例","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"0291282e6d37","note":"function Dialog(props) {\n  return (\n    &lt;FancyBorder color=&quot;blue&quot;&gt;\n      &lt;h1 className=&quot;Dialog-title&quot;&gt;\n        {props.title}\n      &lt;/h1&gt;\n      &lt;p className=&quot;Dialog-message&quot;&gt;\n        {props.message}\n      &lt;/p&gt;\n    &lt;/FancyBorder&gt;\n  );\n}\n\nfunction WelcomeDialog() {\n  return (\n    &lt;Dialog\n      title=&quot;Welcome&quot;\n      message=&quot;Thank you for visiting our spacecraft!&quot; /&gt;\n  );\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"83be2310dcad","title":"在&nbsp;React&nbsp;中，我们也可以通过组合来实现这一点。“特殊”组件可以通过&nbsp;props&nbsp;定制并渲染“一般”组件","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"0291282e6d37","note":"function Dialog(props) {\n  return (\n    &lt;FancyBorder color=&quot;blue&quot;&gt;\n      &lt;h1 className=&quot;Dialog-title&quot;&gt;\n        {props.title}\n      &lt;/h1&gt;\n      &lt;p className=&quot;Dialog-message&quot;&gt;\n        {props.message}\n      &lt;/p&gt;\n      {props.children}\n    &lt;/FancyBorder&gt;\n  );\n}\n\nclass SignUpDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSignUp = this.handleSignUp.bind(this);\n    this.state = {login: &#39;&#39;};\n  }\n\n  render() {\n    return (\n      &lt;Dialog title=&quot;Mars Exploration Program&quot;\n              message=&quot;How should we refer to you?&quot;&gt;\n        &lt;input value={this.state.login}\n               onChange={this.handleChange} /&gt;\n        &lt;button onClick={this.handleSignUp}&gt;\n          Sign Me Up!\n        &lt;/button&gt;\n      &lt;/Dialog&gt;\n    );\n  }\n\n  handleChange(e) {\n    this.setState({login: e.target.value});\n  }\n\n  handleSignUp() {\n    alert(`Welcome aboard, ${this.state.login}!`);\n  }\n}","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"f1d3f76b27a0","title":"组合也同样适用于以&nbsp;class&nbsp;形式定义的组件","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"background-color":"#388E3C","border-radius":"5px","color":"#FFE0B2","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"0291282e6d37","title":"特例关系<br>"},{"parent":"root","lineStyle":{"randomLineColor":"rgb(153,204,255)","lineColor":"#F57F17"},"children":[{"parent":"b653f7534587","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"09c359863911","title":"在&nbsp;Facebook，我们在成百上千个组件中使用&nbsp;React。我们并没有发现需要使用继承来构建组件层次的情况","icons":[{"color":"rgb(99, 171, 247)","name":"priority","index":"0","text":"&#xe67a"}]},{"parent":"b653f7534587","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"a055a844090f","title":"Props&nbsp;和组合为你提供了清晰而安全地定制组件外观和行为的灵活方式。注意：组件可以接受任意&nbsp;props，包括基本数据类型，React&nbsp;元素以及函数<br>","icons":[{"color":"rgb(113, 203, 45)","name":"priority","index":"1","text":"&#xe625"}]},{"parent":"b653f7534587","lineStyle":{"lineColor":"#555","lineWidth":1},"children":[],"style":{"lineStype":{"lineType":"curve","lineColor":"#555","lineWidth":1},"padding":"2px 8px 2px 8px","color":"#666","lineStyle":{"lineColor":"#555","lineWidth":1},"textAlign":"left","font-weight":"normal","font-size":"13px","font-family":"微软雅黑","bold":false,"font-style":"normal","italic":false},"id":"0dfdea6aa31e","title":"如果你想要在组件间复用非&nbsp;UI&nbsp;的功能，我们建议将其提取为一个单独的&nbsp;JavaScript&nbsp;模块，如函数、对象或者类。<br>组件可以直接引入（import）而无需通过&nbsp;extend&nbsp;继承它们","icons":[{"color":"rgb(255, 159, 26)","name":"priority","index":"2","text":"&#xe62a"}]}],"style":{"background-color":"#F57F17","border-radius":"5px","color":"#FFE0B2","font-weight":"bold","font-size":13,"border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"b653f7534587","title":"继承呢？"}],"root":true,"theme":"customise_7fd055efa78b","style":{"background-color":"rgb(255, 83, 92)","border-radius":"6px","color":"#FFE0B2","font-weight":"bold","border-color":"rgb(255, 255, 255)","border-width":"0px","border-style":"none"},"id":"root","title":"组合&nbsp;vs&nbsp;继承","icons":[{"color":"rgb(255, 255, 255)","name":"","index":"53","text":"&#xe693"}],"structure":"mind_free"}},"meta":{"exportTime":"2022-04-02 10:50:48","member":"60cca488e0b34d55bbf2954f","diagramInfo":{"creator":"60cca488e0b34d55bbf2954f","created":"2022-04-02 10:40:42","modified":"2022-04-02 10:50:28","title":"2.10组合 vs 继承","category":"mind_free"},"id":"6247b7aa1efad40756dd0870","type":"ProcessOn Schema File","version":"1.0"}}